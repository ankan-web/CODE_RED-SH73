rules_version = '2';

service cloud.firestore {
match /databases/{database}/documents {

// This function checks if the request is coming from your specific admin UID.
function isAdmin() {
  // IMPORTANT: This UID must match the admin user account you are logged in with in the app.
  return request.auth.uid == 'TjqRNq5MpHdahtlpygegZfhAS1S2';
}

// Rule for the 'users' collection
match /users/{userId} {
  // Admins can read the entire collection.
  // Individual users can read and write their OWN document.
  allow read: if isAdmin() || request.auth.uid == userId;
  allow write: if request.auth.uid == userId;
}

// Rule for the 'bookings' collection
match /bookings/{bookingId} {
  // Only the admin can read or write to the bookings collection.
  allow read, write: if isAdmin();
}

// Rule for the 'resources' collection
match /resources/{docId} {
  // Anyone can read resources.
  // Only admins can create, update, or delete them.
  allow read: if true;
  allow write: if isAdmin();
}

}
}